// part 1
const text = await Deno.readTextFile("./input.txt");
const lines = text.split("\n");
const pattern = /^.*?(9(?=[1-9]*.$)|8(?=[1-8]*.$)|7(?=[1-7]*.$)|6(?=[1-6]*.$)|5(?=[1-5]*.$)|4(?=[1-4]*.$)|3(?=[1-3]*.$)|2(?=[1-2]*.$)|1(?=1*.$)).*?(9(?=[1-9]*$)|8(?=[1-8]*$)|7(?=[1-7]*$)|6(?=[1-6]*$)|5(?=[1-5]*$)|4(?=[1-4]*$)|3(?=[1-3]*$)|2(?=[1-2]*$)|1(?=1*$))/

// doing this with a regex because I think it is funny
const part1 = lines.map(it => pattern.exec(it)).map(it => (it[1] + it[2]) * 1).reduce((a, b) => a + b, 0);
console.log(part1);

// part 2

// least insane regex ever created
const pattern2 = /^.*?(9(?=[1-9]*.{11}$)|8(?=[1-8]*.{11}$)|7(?=[1-7]*.{11}$)|6(?=[1-6]*.{11}$)|5(?=[1-5]*.{11}$)|4(?=[1-4]*.{11}$)|3(?=[1-3]*.{11}$)|2(?=[1-2]*.{11}$)|1(?=1*.{11}$)).*?(9(?=[1-9]*.{10}$)|8(?=[1-8]*.{10}$)|7(?=[1-7]*.{10}$)|6(?=[1-6]*.{10}$)|5(?=[1-5]*.{10}$)|4(?=[1-4]*.{10}$)|3(?=[1-3]*.{10}$)|2(?=[1-2]*.{10}$)|1(?=1*.{10}$)).*?(9(?=[1-9]*.{9}$)|8(?=[1-8]*.{9}$)|7(?=[1-7]*.{9}$)|6(?=[1-6]*.{9}$)|5(?=[1-5]*.{9}$)|4(?=[1-4]*.{9}$)|3(?=[1-3]*.{9}$)|2(?=[1-2]*.{9}$)|1(?=1*.{9}$)).*?(9(?=[1-9]*.{8}$)|8(?=[1-8]*.{8}$)|7(?=[1-7]*.{8}$)|6(?=[1-6]*.{8}$)|5(?=[1-5]*.{8}$)|4(?=[1-4]*.{8}$)|3(?=[1-3]*.{8}$)|2(?=[1-2]*.{8}$)|1(?=1*.{8}$)).*?(9(?=[1-9]*.{7}$)|8(?=[1-8]*.{7}$)|7(?=[1-7]*.{7}$)|6(?=[1-6]*.{7}$)|5(?=[1-5]*.{7}$)|4(?=[1-4]*.{7}$)|3(?=[1-3]*.{7}$)|2(?=[1-2]*.{7}$)|1(?=1*.{7}$)).*?(9(?=[1-9]*.{6}$)|8(?=[1-8]*.{6}$)|7(?=[1-7]*.{6}$)|6(?=[1-6]*.{6}$)|5(?=[1-5]*.{6}$)|4(?=[1-4]*.{6}$)|3(?=[1-3]*.{6}$)|2(?=[1-2]*.{6}$)|1(?=1*.{6}$)).*?(9(?=[1-9]*.{5}$)|8(?=[1-8]*.{5}$)|7(?=[1-7]*.{5}$)|6(?=[1-6]*.{5}$)|5(?=[1-5]*.{5}$)|4(?=[1-4]*.{5}$)|3(?=[1-3]*.{5}$)|2(?=[1-2]*.{5}$)|1(?=1*.{5}$)).*?(9(?=[1-9]*.{4}$)|8(?=[1-8]*.{4}$)|7(?=[1-7]*.{4}$)|6(?=[1-6]*.{4}$)|5(?=[1-5]*.{4}$)|4(?=[1-4]*.{4}$)|3(?=[1-3]*.{4}$)|2(?=[1-2]*.{4}$)|1(?=1*.{4}$)).*?(9(?=[1-9]*.{3}$)|8(?=[1-8]*.{3}$)|7(?=[1-7]*.{3}$)|6(?=[1-6]*.{3}$)|5(?=[1-5]*.{3}$)|4(?=[1-4]*.{3}$)|3(?=[1-3]*.{3}$)|2(?=[1-2]*.{3}$)|1(?=1*.{3}$)).*?(9(?=[1-9]*.{2}$)|8(?=[1-8]*.{2}$)|7(?=[1-7]*.{2}$)|6(?=[1-6]*.{2}$)|5(?=[1-5]*.{2}$)|4(?=[1-4]*.{2}$)|3(?=[1-3]*.{2}$)|2(?=[1-2]*.{2}$)|1(?=1*.{2}$)).*?(9(?=[1-9]*.{1}$)|8(?=[1-8]*.{1}$)|7(?=[1-7]*.{1}$)|6(?=[1-6]*.{1}$)|5(?=[1-5]*.{1}$)|4(?=[1-4]*.{1}$)|3(?=[1-3]*.{1}$)|2(?=[1-2]*.{1}$)|1(?=1*.{1}$)).*?(9(?=[1-9]*.{0}$)|8(?=[1-8]*.{0}$)|7(?=[1-7]*.{0}$)|6(?=[1-6]*.{0}$)|5(?=[1-5]*.{0}$)|4(?=[1-4]*.{0}$)|3(?=[1-3]*.{0}$)|2(?=[1-2]*.{0}$)|1(?=1*.{0}$)).*?/;
const part2 = lines.map(it => pattern2.exec(it)).map(it => (it.slice(1).join("") * 1) * 1).reduce((a, b) => a + b, 0);
console.log(part2);